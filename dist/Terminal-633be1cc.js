import{T as u,V as b,M as g,d as c,N as d,u as w,D as S,x as $,_ as A,o as J,c as k,a as y,w as j,g as O,F as E,r as _,t as T,n as I}from"./index-c46c4c32.js";const N={extract:function(t){var e=new RegExp("(?<!\\\\)((?<bracket>\\[(?:[^\\]\\\\]|\\\\.)*\\])|(?<wildcard>\\*)|(?<or>\\|))","g"),n=new RegExp("(?<=\\s|^)(--\\w+(?:-\\w+)*|-{1}(?=\\w))(?:=(?:(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|`(?:\\\\.|[^`\\\\])*`)|\\$\\((?:[^\\)\\\\]|\\\\.)*\\)|(?:(?<=\\s|^|\\\\)[^=\\s\"'\\`$]+(?:(?<!\\\\)(?:\\s+|`(?:\\\\.|[^`\\\\])*`|[\\$][\\(](?:\\\\.|[^\\(\\)\\\\])*[\\)]+)[^=\\s\"'\\`$]*)*))|(\\S+))*(?=\\s|$)|(\\S*)(?:\\\"(?:[^\\\"\\\\]|\\\\.)*\\\"|\\'(?:[^\\'\\\\]|\\\\.)*\\'|\\`(?:[^\\`\\\\]|\\\\.)*\\`|\\$\\((?:[^\\)\\\\]|\\\\.)*\\))(\\S*)|(\\S+)|(?:(?<=\\s|^)[^-]\\S*(?=\\s|$))","g"),r=Array.from(t.matchAll(n),o=>o),i=[];for(let o in r){var a=r[o][0].trim(),l=/(?<quotes>(?<quote>[\"\'])(?<quoted>(?:[^\k<quote>\\]|\\.)*)\k<quote>)|(?<subtitution>(?<subtitution_command>\$\((?<command>(?:[^\)\\]|\\.)*)\))|(?<subtitution_expansion>\$\{(?<expansion>(?:[^\}\\]|\\.])*)\})|(?<subtitution_backticks>\`(?<backticks>(?:[^\`\\]|\\.)*)\`))/g;if(console.log(l.exec(r)),e.test(a))try{var s=this.ls(a);if(u(s,[Array,Object])){if(s.length>0){for(let x in s)i.push(s[x].name);continue}i.push(s.name);continue}}catch(x){this.log("error",x)}i.push(a)}return i},parser:function(t){var e={file:null,command:null,argument:{}};if(u(t,Array)){var n=0,r=t.length;e.file=t.shift();for(let x=0;x<r;x++){var i=t[x]??null;let p=x+1;if(i!==null){if(i!==""){if(i.slice(0,2)==="--"){var a=i.indexOf("=");if(a>=0){var l=i.slice(2,a),s=i.slice(a+2);s=b.isNotEmpty(s)?s:null}else{var l=i.slice(2),s=t[p]??null;s!==null?p<r&&s.length!==0&&s[0]!=="-"?x++:u(e.argument[l],["Null","Undefined"])&&(s=!0):delete t[p]}b.isNotEmpty(l)&&(e.argument[l]=s=s!==null?s:!0);continue}else if(i.slice(0,1)==="-"){if(i.slice(2,3)==="="){var l=i.slice(1,2),s=i.slice(3);e.argument[l]=b.isEmpty(s)?e.argument[l]??!0:s}else{var o=i.slice(1);o=o.split("");for(let f in o){if(f>=1&&o[f]==="="){var l=o[f-1],s=i.slice(i.indexOf("=")+1);e.argument[l]=b.isEmpty(s)?e.argument[l]??!0:s;break}e.argument[o[f]]=e.argument[o[f]]??!0}}continue}}e.argument[n++]=i}}}return e}},z={name:"alias",type:"file",abouts:["Define terminal command alias name"],options:{h:{type:Boolean,alias:"help",usage:"Show this help",require:!1},p:{type:Boolean,alias:"print",usage:"Print all defined aliases",require:!1}},data:{regexp:/^(?<define>(?<name>[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*)\=(?<value>\S*))$/g},methods:{print:function(){return Object.values(g(this.$name,(t,e,n)=>c("{}='{}'",e,n.replace(/(?!\\)\'/g,"\\'"))))}},mounted:function({h:t,p:e}){if(t===!0&&e===!0)throw"alias: To many arguments";if(t===!0)return this.$help();if(e===!0)return this.print();var n=Object.keys(this.$args),r=Object.values(this.$args),i=[];let a=0;for(let s in n)if(n[s].match(/^\d+$/i)&&u(r[s],String)){var l=this.regexp.exec(r[s]);l!==null?(this.$name[l.groups.name]=l.groups.value??'""',a++):this.$name[r[s]]?i.push(c("{}='{}'",r[s],this.$name[r[s]].replace(/(?!\\)\'/g,"\\'"))):i.push(c("{}: alias: {}: Not found",this.$root.shell,r[s]))}return a>=1||i.length>=1?i:this.print()}},q={name:"clear",type:"file",abouts:["Clear the terminal screen"],mounted:function(){this.$root.history=[]}},V={name:"echo",type:"file",data:{regexp:/(?:(?<backslash>\\\\)|\\(?<escaped>b|n|r|s|t|v))/g},abouts:["Display text on the terminal"],options:{e:{type:Boolean,usage:"Enable interpretation of backslash escapes",require:!1},n:{type:Boolean,usage:"Do not print the trailing newline",require:!1}},methods:{toString:function(){return this.$argv.slice(this.$args.e===!0?2:1).join(" ")}},mounted:function({e:t,n:e}={}){if(t===!0&&e===!0)throw"echo: To many arguments";if(t===!0){for(var n=this.toString(),r="",i=null,a=0;(i=this.regexp.exec(n))!==null;)switch(r+=n.substring(a,this.regexp.lastIndex-i[0].length),a=this.regexp.lastIndex,!0){case i[0]==="\\r":r="";break;case i[0]==="\\n":r+=`
`;break;case i[0]==="\\s":r+=" ";break;case i[0]==="\\t":r+="    ";break;case i[0]==="\\v":r+=`
    `;break;case i[0]==="\\b":r=r.replace(/\s*$/,"");break;default:r+="\\";break}return(r+n.substring(a)).split(`
`)}else return[this.toString()]}},D={name:"help",type:"file",abouts:["Show all available commands"],mounted:function(){var t=[],e=this.$root.commands;for(let r in e){var n=[];g(e[r].options??Object.create({}),function(i,a,l){var s=[a.length>1?`--${a}`:`-${a}`];u(l.alias,String)&&s.push(l.alias.length>1?`--${l.alias}`:`-${l.alias}`),d(l.type,"Undefined")?n.push(c("[{} {}]",s.join("|"),l.type.name)):n.push(c("[{}]",s.join("|")))}),t.push(c("\x1B[32m{} \x1B[37m{}",e[r].name,n.join(" ")))}return t}},M={name:"js",type:"file",data:{regexp:{numeric:/^-?\d+(\.\d+)?$/,datetime:/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z)?$/}},options:{argument:{type:String,usage:"",require:!0}},methods:{backslash:t=>t.replaceAll(/(?:\\{1,})(?!(x|e|0))/g,e=>e.length===1?"":e.length%2!==0?"\\".repeat(e.length-1):"\\".repeat(e.length===2?e.length-1:e.length-2)),command:function(t){let e;var n=this.$vars;if(e=t.match(/^\((([^\\)]|\\.)*)\)$/)){var r=e[1].split(",");for(let a in r){r[a]=r[a].replaceAll(/([a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*)/g,l=>(u(n[l],"Undefined")&&(n[l]=0),`$vars.${l}`));var i=new Function(`return ${r[a]}`);r[a]=i()??""}return r.join(" ")}return this.$exec(t)},convert:function(t){if(d(t,["Null","Undefined"])){if(u(t,String)){t=t.trim();try{if(t==="true"||t==="false")return t==="true";if(this.regexp.numeric.test(t))return parseFloat(t);if(t.startsWith("{")&&t.endsWith("}"))return JSON.parse(t);if(this.regexp.datetime.test(t))return new Date(t)}catch{}}return t}return null},execute:function(t){var e=[];for(let i in t){var n=new Function(`return(${t[i]});`),r=n();d(r,"Undefined")&&e.push(`${r}`.split(`
`))}return e},expansion:function(t){return""},extract:function(t){var e=new RegExp("(?<!['\"`])(?<!\\\\)((?<bracket>\\[(?:[^\\]\\\\]|\\\\.)*\\])|(?<wildcard>\\*)|(?<or>\\|))(?<!['\"`])","g"),n=new RegExp("(?<=\\s|^)(--\\w+(?:-\\w+)*|-{1}(?=\\w))(?:=(?:(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|`(?:\\\\.|[^`\\\\])*`)|\\$\\((?:[^\\)\\\\]|\\\\.)*\\)|(?:(?<=\\s|^|\\\\)[^=\\s\"'\\`$]+(?:(?<!\\\\)(?:\\s+|`(?:\\\\.|[^`\\\\])*`|[\\$][\\(](?:\\\\.|[^\\(\\)\\\\])*[\\)]+)[^=\\s\"'\\`$]*)*))|(\\S+))*(?=\\s|$)|(\\S*)(?:\\\"(?:[^\\\"\\\\]|\\\\.)*\\\"|\\'(?:[^\\'\\\\]|\\\\.)*\\'|\\`(?:[^\\`\\\\]|\\\\.)*\\`|\\$\\((?:[^\\)\\\\]|\\\\.)*\\))(\\S*)|(\\S+)|(?:(?<=\\s|^)[^-]\\S*(?=\\s|$))","g"),r=Array.from(t.matchAll(n),f=>f),i=[];for(let f in r)if(!b.isEmpty(r[f][0])){var a=r[f][0].trim();if(e.test(a))try{var l=this.$root.ls(a);if(u(l,[Array,Object])){if(l.length>0){for(let h in l)i.push(l[h].name);continue}i.push(l.name);continue}}catch(h){this.$root.log("error",h)}for(var s=/(?!\\)(?:(?<quotes>(["'])(?<quoted>(?:[^\1\\]|\\.)*)\1)|(?<subtitution>(?<subtitution_command>\$\((?<command>(?:[^\)\\]|\\.)*)\))|(?<subtitution_expansion>\$\{(?<expansion>(?:[^\}\\]|\\.])*)\})|(?<subtitution_backticks>\`(?<backticks>(?:[^\`\\]|\\.)*)\`)))/gm,o="",x=null,p=0;(x=s.exec(a))!==null;){switch(o+=this.backslash(a.substring(p,s.lastIndex-x[0].length)),!0){case u(x.groups.subtitution_command,String):case u(x.groups.subtitution_backticks,String):i.push(o),i.push(...this.extract(this.command(this.backslash(typeof x.groups.backticks=="string"?x.groups.backticks:x.groups.command)))),o="";break;case u(x.groups.subtitution_expansion,String):o+=this.expansion(this.backslash(x.groups));break;default:o+=this.backslash(x.groups.quotes.slice(1,x[0].length-1));break}p=s.lastIndex}a=o+this.backslash(a.substring(p)),b.isNotEmpty(a)&&i.push(a)}return i.filter(f=>b.isNotEmpty(f))},params:function(t,e){var n={};return u(t.options,Object)&&g(t.options,function(r,i,a){if(d(e[i],"Undefined")&&(n[i]=e[i]),u(a.alias,String)&&d(e[a.alias],"Undefined"))n[i]=e[a.alias];else if(a.require===!0)throw c("{}: {}: Option required",t.name,i);if(d(n[i],"Undefined")&&d(a.type,"Undefined")&&d(n[i],a.type))throw c("{}: {}: Option must be type {}, {} given",t.name,i,a.type.name,u(n[i]))}),n},parser:function(t){var e={};if(u(t,Array)){var n=0,r=t.length;t=[...t],delete t[0];for(let x=0;x<r;x++){var i=t[x]??null;let p=x+1;if(i!==null){if(i!==""){if(i.slice(0,2)==="--"){var a=i.indexOf("=");if(a>=0){var l=i.slice(2,a),s=i.slice(a+2);s=b.isNotEmpty(s)?s.trim():null}else{var l=i.slice(2),s=t[p]??null;s!==null?p<r&&s.length!==0&&s[0]!=="-"?x++:u(e[l],["Null","Undefined"])&&(s=!0):delete t[p]}b.isNotEmpty(l)&&(e[l]=this.convert(s=s!==null?s:!0));continue}else if(i.slice(0,1)==="-"){if(i.slice(2,3)==="="){var l=i.slice(1,2),s=i.slice(3);e[l]=this.convert(b.isEmpty(s)?e[l]??!0:s)}else{var o=i.slice(1);o=o.split("");for(let f in o){if(f>=1&&o[f]==="="){var l=o[f-1],s=i.slice(i.indexOf("=")+1);e[l]=this.convert(b.isEmpty(s)?e[l]??!0:s);break}e[o[f]]=this.convert(e[o[f]]??!0)}}continue}}e[n++]=this.convert(i.trim())}}}return e},replace:function(t){var e=[],n=t.split(new RegExp("(?<=^|[^\"'`\\\\\\\\])\\s*&&\\s*(?=[^\"'`\\\\\\\\]|$)","g"));for(let h in n)if(n[h]!=="&&"&&n[h]!==";"&&b.isNotEmpty(n[h])){var r="",i=new RegExp("(?<!\\\\)(?<variable>\\$(?<name>[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*))","g"),a=i.exec(n[h]);if(a!==null&&(d(this.$vars[a.groups.name],"Undefined")?r=this.$vars[a.groups.name]:d(this.$envs[a.groups.name],"Undefined")&&(a.groups.name==="PWD"?r=this.$envs.PWD.path??"":r=this.$envs[a.groups.name]),n[h]=this.replace(n[h].substring(0,i.lastIndex-a[0].length)+r+n[h].substring(i.lastIndex))),u(n[h],Array))e.push(...n[h]);else{for(var l=new RegExp("(?<!['\"`])\\b(?:(?<name>[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*)=(?<value>\\S+))\\b(?<!['\"`])","g"),s="",o=0;(a=l.exec(n[h]))!==null;)this.$vars[a.groups.name]=a.groups.value,s+=n[h].substring(o,l.lastIndex-a[0].length),o=l.lastIndex,!/^[\s\t]*$/.test(s)&&(s+=a[0]);if(s+=n[h].substring(o),b.isNotEmpty(s)){var x=s.split(" ");if(u(this.$name[x[0]],String)){var p=this.replace(this.$name[x[0]]),f=p[0]+" "+x.slice(1).join(" ");e.push(f,...p.slice(1))}else e.push(s)}}}return e}},mounted:function({argument:t}={}){this.$root.built.js=this;var e=this.replace(t.trim()),n=[];for(let o in e){var r=this.extract(e[o].trim()),i=this.parser(r);if(r.length>=1){var a=this.$root.commands.find(x=>x.name===r[0]);if(a)if(r[0]==="js")n.push(...this.execute(r.slice(1)));else{if(this.$root.built[r[0]])var l=this.$root.builder([a,this.$root.built[r[0]]],{argv:r,args:i});else var l=this.$root.builder(a,{argv:r,args:i});var s=new l(this.params(a,i));u(s,Array)?n.push(s):this.$root.built[r[0]]=s}else throw c("{}: Command not found",r[0])}}return n}},U={name:"theme",type:"file",data:{theme:new w},options:{c:{type:String,alias:"color",usage:"Set theme color",require:!1},h:{type:Boolean,alias:"help",usage:"Show this help",require:!1}},mounted:function({c:t,h:e}={}){if(u(t,String)&&e===!0)throw"theme: To many arguments";if(u(t,String))if(t==="dark"||t==="light")this.theme.set(t);else throw c("theme: {}: Invalid theme color",t);return e===!0?this.$help():[c("{}={}",this.theme.get(),this.theme.theme[this.theme.get()].token)]}},P={name:"unalias",type:"file",abouts:["Remove terminal command alias"],options:{a:{type:Boolean,alias:"all",usage:"Remove all defined aliases",require:!1},h:{type:Boolean,alias:"help",usage:"Show this help",require:!1}},mounted:function({a:t,h:e}){if(e===!0&&t===!0)throw"unalias: To many arguments";if(e===!0)return this.$help();if(t===!0){var n=Object.keys(this.$name);for(let s in n)delete this.$name[n[s]];return}var n=Object.keys(this.$args),r=Object.values(this.$args),i=[];let a=0;for(let l in n)n[l].match(/^\d+$/i)&&u(r[l],String)&&(u(this.$name[r[l]],String)?(delete this.$name[r[l]],a++):i.push(c("{}: unalias: {}: Not found",this.$root.shell,r[l])));return a>=1||i.length>=1?i:this.$help()}},C=[z,q,V,D,M,U,P],H=[{name:"bin",type:"symlink",from:"/usr/bin"},{name:"boot",type:"path",child:[]},{name:"data",type:"path",child:[]},{name:"dev",type:"path",child:[]},{name:"etc",type:"path",child:[]},{name:"home",type:"path",child:[]},{name:"lib",type:"symlink",from:"/usr/lib"},{name:"media",type:"path",child:[]},{name:"mnt",type:"path",child:[]},{name:"opt",type:"path",child:[]},{name:"proc",type:"path",child:[]},{name:"root",type:"path",child:[{name:".bashrc",type:"bashrc"},{name:".bash_history",type:"text"}]},{name:"run",type:"symlink",from:"/var/run"},{name:"sbin",type:"symlink",from:"/usr/sbin"},{name:"srv",type:"path",child:[]},{name:"sys",type:"path",child:[]},{name:"tmp",type:"path",child:[]},{name:"usr",type:"path",child:[{name:"bin",type:"path",child:C},{name:"lib",type:"path",child:[]},{name:"sbin",type:"path",child:[]}]},{name:"var",type:"path",child:[{name:"run",type:"path",child:[]}]}];function m(){this.commands=this.ls("/bin"),this.router.push("/terminal/root"),console.info(c("Terminal v{} started.",this.version))}m.prototype.aliases={chintya:'echo -e "chintya: You are beautiful, cute, kind, white, reddish, smooth, soft, but also very annoying; You like sky blue; And you like clear soup with green spinach"',lianary:'echo -e "liana: Remember, falling in love because of faith is much more beautiful than falling in love because of lust; I should have understood your code from the start"'};m.prototype.argument=N;m.prototype.author={name:"Ari Setiawan",alias:"hxAri",email:"ari160824@gmail.com"};m.prototype.binding=null;m.prototype.builder=function(t,{argv:e,args:n}){var r={},i=function(a){g(a,function(l,s,o){r.prototype[s]=o,u(o,s)&&r.prototype[s].bind(r)})};return u(t,Object)?(t.data=u(t.data,Object,()=>t.data,()=>Object.create({})),t.methods=u(t.methods,Object,()=>t.methods,()=>Object.create({})),r=t.mounted,r.prototype.$root=this,r.prototype.$name=this.aliases,r.prototype.$bind=this.binding,r.prototype.$envs=this.exports,r.prototype.$vars=this.declare,r.prototype.$exec=function(a){var l=this.$root.commands.find(p=>p.name===this.$root.shell),s=[];if(l){if(this.$root.built[l.name])var o=this.$root.builder([l,this.$root.built[l.name]],{argv:null,args:null});else var o=this.$root.builder(l,{argv:null,args:null});var x=new o({argument:a});x.forEach(p=>s.push(p.join(" ")))}else throw new Error(c("{}: Shells not available",this.$root.shell));return s.join(" ")},i({...t.data,...t.methods})):(r=t[0].mounted,i(Object.getPrototypeOf(t[1]))),r.prototype.$argv=e,r.prototype.$args=n,r};m.prototype.built={};m.prototype.colorable=function(t){var e=0,n=null,r="",i={number:{pattern:"(?<number>\\b(?<!\\\\(x1b|033)|\\;|\\[)(\\d+)\\b)",colorize:"var(--shell-c-38-61m)"},define:{pattern:"(?<define>(\\@|\\$)[a-zA-Z0-9_-]+)",colorize:"var(--shell-c-38-111m"},symbol:{pattern:"(?<symbol>(\\\\(?<!x1b)|(\\\\(?<!033)))|\\:|\\*|\\-|\\+|\\/|\\&|\\%|\\=|((?<!\\d);(?<!\\d))|\\,|\\.|\\?|\\!|\\<|\\>)",colorize:"var(--shell-c-38-69m)"},bracket:{pattern:"(?<bracket>\\{|\\}|(((?<!\\\\\x1B)\\[)|\\])|\\(|\\))",colorize:"var(--shell-c-38-214m)"},type:{pattern:"(?<type>\\b(False|True)\\b)",colorize:"var(--shell-c-38-199m)"},string:{pattern:"(?<string>(?<!\\\\)(\"(.*?)(?<!\\\\)\")|('(.*?)(?<!\\\\)')|(`(.*?)(?<!\\\\)`))",colorize:"var(--shell-c-38-220m)",handler:x=>x[0].replaceAll(new RegExp("(?<!\\\\)(\\\\\"|\\\\'|\\\\`|\\\\r|\\\\t|\\\\n|\\\\s)","g"),p=>`<span style="color: var(--shell-c-38-208m)">${p}</span>`)}};try{for(var a=new RegExp("(?:"+Object.values(g(i,(x,p,f)=>f.pattern)).join("|")+")","g");(n=a.exec(t))!==null;){var l="var(--shell-c-37m)";if(u(n.groups,Object)){var s=Object.keys(n.groups);for(let x in s){var o=s[x];if(u(i[o],Object)&&u(n.groups[o],String)){l=i[o].colorize;break}}if(u(i[o].handler,[Function,"handler"])){r+=c('{}<span style="color: {}">{}</span>',t.substring(e,a.lastIndex-n[0].length),l,i[o].handler(n)),e=a.lastIndex;continue}}r+=c('{}<span style="color: {}">{}</span>',t.substring(e,a.lastIndex-n[0].length),l,n[0]),e=a.lastIndex}}catch(x){this.log("error",x)}return r+t.substring(e)};m.prototype.commands=[];m.prototype.date=new S;m.prototype.declare={};m.prototype.directory=H;m.prototype.exports={ROOT:"/terminal",HOME:"/root",PWD:$.currentRoute,PS1:"\\[\\e[0;38;5;112m\\]\\u\\[\\e[0;38;5;190m\\]@\\h\\[\\e[0;38;5;214m\\]:\\[\\e[32m\\]\\w\\[\\e[37m\\]$"};m.prototype.format=function(t){var e=/(?<format>\x1b|\\x1b|\\e|((\0|\\0)33))((?:\[|\\\[)(?<code>.*?)(?<type>m)(?<text>[^\n]*))/g,n=t.replaceAll(/\!\[(bx|bxl|bxs)\]\(([a-zA-Z0-9\-\s]+)\)/g,'<i class="bx $1-$2"></i>'),r=e.exec(n);if(r!==null){var i="",a=this.formatStyle(r.groups.code);return u(r.groups.text,String)&&(i=this.format(r.groups.text)),a?c('{}<span class="terminal-text text" style="{}">{}</span>',n.substring(0,e.lastIndex-r[0].length),a,i):n.substring(0,e.lastIndex-r[0].length)+i}return n};m.prototype.formatStyle=function(t){var e=this;if(/^(?:\d{1,2}|[01]\d|2[0-4])(;(?:\d|[0-5]\d)(?:;(?:\d{1,3})){0,2})*$/.test(t)){var n=t.split(";");if(n.length===1){if(this.formatStyleValue[n[0].length-1])return this.formatStyleValue[n[0].length-1][n[0]]}else{var r=!1,i=!1;return n.length===2&&(r=u(e.formatStyleValue[n[0].length-1],[Array,Object],()=>e.formatStyleValue[n[0].length-1][n[0]],()=>!1),i=u(e.formatStyleValue[n[1].length-1],[Array,Object],()=>e.formatStyleValue[n[1].length-1][n[1]],()=>!1)),n.length>=4&&(r=u(e.formatStyleValue[n[0].length-1],[Array,Object],()=>e.formatStyleValue[n[0].length-1][n[0]],()=>!1),n[1]==="38"&&(n[2]==="4"&&(i=c("background-color: var(--shell-c-38-{}m)",n[3])),n[2]==="5"&&(i=c("color: var(--shell-c-38-{}m)",n[3])),n[2]!=="4"&&n[2]!=="5"&&(r?(r+="; ",r+=u(e.formatStyleValue[n[2].length-1],[Array,Object],()=>e.formatStyleValue[n[2].length-1][n[2]],()=>"")):r=u(e.formatStyleValue[n[2].length-1],[Array,Object],()=>e.formatStyleValue[n[2].length-1][n[2]],()=>!1)))),r&&i?`${r}; ${i}`:r||i||!1}}return!1};m.prototype.formatStyleValue=[{0:"font-weight: normal; font-style: normal; text-decoration: none; text-decoration-line: none; color: var(--shell-c-37m); opacity: 1",1:"font-weight: bolder",2:"opacity: .8",3:"font-style: italic",4:"text-decoration-line: underline",5:"font-weight: bolder",6:"font-weight: normal; font-style: normal; text-decoration-line: none; color: var(--shell-c-37m); opacity: 1",7:"background-color: var(--shell-c-37m); color: var(--shell-c-30m)",8:"background-color: var(--shell-c-30m); color: var(--shell-c-30m)",9:"text-decoration-line: line-through"},{30:"color: var(--shell-c-30m)",31:"color: var(--shell-c-31m)",32:"color: var(--shell-c-32m)",33:"color: var(--shell-c-33m)",34:"color: var(--shell-c-34m)",35:"color: var(--shell-c-35m)",36:"color: var(--shell-c-36m)",37:"color: var(--shell-c-37m)",40:"background-color: var(--shell-c-30m)",41:"background-color: var(--shell-c-31m)",42:"background-color: var(--shell-c-32m)",43:"background-color: var(--shell-c-33m)",44:"background-color: var(--shell-c-34m)",45:"background-color: var(--shell-c-35m)",46:"background-color: var(--shell-c-36m)",47:"background-color: var(--shell-c-37m)"}];m.prototype.history=[{output:["                                           ","             \x1B[0;38;5;240m::                            ","            \x1B[0;38;5;245m^\x1B[0;38;5;255mJJ\x1B[0;38;5;245m^\x1B[0;38;5;240m... :~\x1B[0;38;5;245m^                    ","      \x1B[0;38;5;245m.^\x1B[0;38;5;240m::\x1B[0;38;5;255m~7JJJJJJ??JJJ\x1B[0;38;5;245m^                   ","      \x1B[0;38;5;255m7JJJYYJ?77??JJJJJJ?!!??\x1B[0;38;5;240m:             ","      \x1B[0;38;5;240m:\x1B[0;38;5;255mJJJ?\x1B[0;38;5;245m^.     .^\x1B[0;38;5;255m!?JJLJJJ?\x1B[0;38;5;240m.             ","    \x1B[0;38;5;240m:\x1B[0;38;5;245m^\x1B[0;38;5;255m?JJJ\x1B[0;38;5;245m. \x1B[0;38;5;69m*  \x1B[0;38;5;245m~\x1B[0;38;5;255m7\x1B[0;38;5;245m^   .^\x1B[0;38;5;255m?JIJJJJ?\x1B[0;38;5;240m: ..         ","   \x1B[0;38;5;240m.\x1B[0;38;5;255m?JJJJJ\x1B[0;38;5;245m^  \x1B[0;38;5;240m.\x1B[0;38;5;245m!\x1B[0;38;5;255mJY7     \x1B[0;38;5;245m.\x1B[0;38;5;255m?JAJJ\x1B[0;38;5;245m~::^\x1B[0;38;5;240m::.       ","    \x1B[0;38;5;240m..\x1B[0;38;5;245m^\x1B[0;38;5;255m?JJJ??JJJJ\x1B[0;38;5;245m:      :\x1B[0;38;5;255mJNJ7\x1B[0;38;5;245m^\x1B[0;38;5;240m:\x1B[0;38;5;245m~!~\x1B[0;38;5;240m::.      ","       \x1B[0;38;5;240m:\x1B[0;38;5;255mJJJ?J?7JJ\x1B[0;38;5;245m~       \x1B[0;38;5;255m7AJ?\x1B[0;38;5;245m^\x1B[0;38;5;240m:::::.       ","       \x1B[0;38;5;240m.\x1B[0;38;5;255m!7\x1B[0;38;5;245m^..  :^.       \x1B[0;38;5;255m?JJ?\x1B[0;38;5;245m!!\x1B[0;38;5;240m~~^         ","                        \x1B[0;38;5;245m:\x1B[0;38;5;255mJJJ7\x1B[0;38;5;245m!!!!!         ","                       \x1B[0;38;5;245m:\x1B[0;38;5;255m?JJ?\x1B[0;38;5;245m!!!\x1B[0;38;5;240m~~~.        ","                      \x1B[0;38;5;245m^\x1B[0;38;5;255m?JJ?\x1B[0;38;5;245m!!^\x1B[0;38;5;240m:::::.       ","                    \x1B[0;38;5;245m:\x1B[0;38;5;255m7JJJ7\x1B[0;38;5;245m!!\x1B[0;38;5;240m~.:\x1B[0;38;5;245m~!~\x1B[0;38;5;240m::.      ","                  \x1B[0;38;5;245m:\x1B[0;38;5;255m!JJJJ7\x1B[0;38;5;245m!!!!^::^\x1B[0;38;5;240m::.       ","                \x1B[0;38;5;245m:\x1B[0;38;5;255m~JJCJJ7\x1B[0;38;5;245m!!!!!!!^\x1B[0;38;5;240m.         ","               \x1B[0;38;5;245m^\x1B[0;38;5;255m?JHJJ?\x1B[0;38;5;245m!!!!!!!!^            ","             \x1B[0;38;5;245m:\x1B[0;38;5;255m7JJIJJ?\x1B[0;38;5;245m!!!\x1B[0;38;5;240m^^\x1B[0;38;5;245m::\x1B[0;38;5;240m^^             ","           \x1B[0;38;5;245m^\x1B[0;38;5;255m!JJJNJJ7\x1B[0;38;5;245m!!!^\x1B[0;38;5;240m::\x1B[0;38;5;245m~~\x1B[0;38;5;240m::.            ","          \x1B[0;38;5;245m^\x1B[0;38;5;255m?JJTJJJ7\x1B[0;38;5;245m!!!!^.^!!^\x1B[0;38;5;240m:.            ","        \x1B[0;38;5;245m^\x1B[0;38;5;255m?JJYJJJJ7\x1B[0;38;5;245m!!!!!!^\x1B[0;38;5;240m:::..             ","      \x1B[0;38;5;245m:\x1B[0;38;5;255m7JJAJJJJ?\x1B[0;38;5;245m!!!!!!!!^                  ","      \x1B[0;38;5;255m7JJJJJJJ?\x1B[0;38;5;245m!!!!!!!\x1B[0;38;5;240m~:                   "," ","Type \x1B[0;38;4;111m\x1B[37mhelp\x1B[40m \x1B[37mfor available commands"," "]}];m.prototype.hostname="hxari";m.prototype.loading=!1;m.prototype.log=function(t,e){if(e instanceof Error){var n=this.parseStackTrace(e);for(let r in n)this.logs.push({level:t,message:`${e}`,file:n[r].file,line:n[r].line,column:n[r].column,function:n[r].function})}this.logs.push({level:t,message:e})};m.prototype.logs=[];m.prototype.ls=function(t){var e="",n=0,r=null,i=/(?<repeat>\*)|(?<current>^\.\/)/g,a=this.pwd();if(t.match(/^\*+$/)!==null)e=a;else{for(;(r=i.exec(t))!==null;){if(u(r.groups.repeat,String))var l=".*";else var l=a;e+=t.substring(n,i.lastIndex-r[0].length)+l,n=i.lastIndex}e+=t.substring(n)}e[0]!=="/"&&(e=a+"/"+e);let s=e.split("/").filter(h=>b.isNotEmpty(h)),o=this.directory;for(let h in s){var x=s[h];if(x==="..")if(u(s[h-1],String))x=s[h-1];else continue;if(u(o,Object))if(u(o.child,Array))o=o.child;else{if(o.type==="symlink")return c("{}/{}",this.ls(o.from),x);o=!1}if(u(o,Array)){var p=null,f=new RegExp("(?<!\\\\)((?<bracket>\\[(?:[^\\]\\\\]|\\\\.)*\\](\\+)*)|(?<wildcard>\\*)|(?<or>\\|))","g");if(f.test(x))try{p=new RegExp(c("^{}$",x.replaceAll(/(?:\/)|(?:\.(?!\*))/g,v=>v==="/"?"\\/":"\\.")))}catch(v){this.log("error",v)}if(o=o.find(function(v){return p!==null?p.test(v.name):x===v.name}),u(o,[Array,Object])===!1)throw new Error(c("No such file or directory {}",t))}else throw new Error(c("No such file or directory {}",t))}return o.type==="path"?o.child:o.type==="symlink"?this.ls(o.from):o};m.prototype.parseStackTrace=function(t){return t.stack.split(`
`).slice(1).map(n=>{const r=n.match(/^\s*at\s+(.*)\s+\((.*):(\d+):(\d+)\)$/);return r?{function:r[1],file:r[2],line:parseInt(r[3],10),column:parseInt(r[4],10)}:null}).filter(n=>!!n)};m.prototype.prompt=function(t){for(var e=0,n=null,r="",i=/(?<backslash>\\)(?!(e|x1b|033))(?<format>[^\s]{0,1})/g;(n=i.exec(t))!==null;){var a="";switch(n.groups.format){case"d":a=this.date.format("%a %b %d");break;case"h":case"H":a=this.hostname;break;case"n":a="<br/>";break;case"s":a=this.shell;break;case"w":a=this.pwd()!==this.exports.HOME?this.pwd():"~";break;case"W":a=this.pwd(!0);break;case"u":a=this.user;break;case"t":a=this.date.format("%H:%M:%S");break;case"T":a=this.date.format("%I:%M:%S");break;case"@":a=c("{} {}",this.date.format("%I:%M"),this.date.hours()>=12?"PM":"AM");break;case"A":a=this.date.format("%H:%M");break}r+=t.substring(e,i.lastIndex-n[0].length)+a,e=i.lastIndex}return this.format(r+t.substring(e))};m.prototype.pwd=function(t=!1){var e=this.exports.PWD.path;return u(e,"Undefined")&&(e=this.exports.PWD._value.path),e=e.replace(new RegExp(this.exports.ROOT.replaceAll(/\//g,"\\/"),"i"),""),e=e===""?"/":e,t?e.split("/").pop():e};m.prototype.router=$;m.prototype.run=async function(t){var e=this;return new Promise(await function(n,r){e.loading=!0,e.binding.model="",e.history.push({prompt:e.exports.PS1,inputs:t,output:[]});try{var i=e.commands.find(s=>s.name===e.shell);if(i){if(e.built[e.shell])var a=e.builder([i,e.built[i.name]],{argv:null,args:null});else var a=e.builder(i,{argv:null,args:null});var l=new a({argument:t});l.forEach(s=>e.history.push({output:s}))}else throw new Error(c("{}: Shells not available",e.shell))}catch(s){e.log("error",s),e.history.push({output:c("{}: {}",e.shell,s)})}e.loading=!1})};m.prototype.shell="js";m.prototype.style="font-weight: normal; font-style: normal; text-decoration: none; text-decoration-line: none; color: var(--shell-c-37m); opacity: 1";m.prototype.user="root";m.prototype.version="4.0";m.prototype.versionRelease="4.0.0";const R={data:()=>({model:"",range:{begin:-1,end:-1},shortcuts:[{name:"",code:27,text:"ESC"},{name:"",text:"/"},{name:"",code:"",text:"-"},{name:"",code:36,text:"HOME"},{name:"",code:38,icon:["bx","bx-up-arrow-alt"]},{name:"",code:35,text:"END"},{name:"",code:33,text:"PGUP"},{name:"",code:17,text:"CTRL"},{name:"",code:18,text:"ALT"},{name:"",code:16,text:"SHIFT"},{name:"",code:37,icon:["bx","bx-left-arrow-alt"]},{name:"",code:40,icon:["bx","bx-down-arrow-alt"]},{name:"",code:39,icon:["bx","bx-right-arrow-alt"]},{name:"",code:34,text:"PGDN"}],terminal:new m}),watch:{title:{immediate:!0,handler:function(){document.title="hxAri · Terminal"}}},mounted:function(){this.terminal.binding=this},methods:{endrange:function(t){t.target.focus(),t.target.setSelectionRange(this.range.begin,this.range.end)},executor:async function(t){t.key==="Enter"&&await this.terminal.run(this.model).then(e=>{console.log(e)}).catch(e=>{console.error(e)})},keyboard:function(t,e){u(e,Object)},oninput:function(t){return this.terminal.loading?this.terminal.colorable(this.model):c("{} {}",this.terminal.prompt(this.terminal.exports.PS1),this.terminal.colorable(this.model))},onrender:function(){var t=this;return g(this.terminal.history,function(e,n){var r=[];return u(n.prompt,String)&&(r.push('<label class="terminal-line-prompt dp-block">'),r.push(t.terminal.prompt(n.prompt)),u(n.inputs,String)&&r.push(t.terminal.colorable(" "+n.inputs)),r.push("</label>")),u(n.output,Array)&&r.push(...g(n.output,(i,a)=>c('<label class="terminal-line-output dp-block">{}</label>',t.terminal.format(`${a}`.replaceAll(/\<|\>/g,l=>l==="<"?"&lt":"&gt"))))),u(n.output,String)&&r.push(c('<label class="terminal-line-output dp-block">{}</label>',t.terminal.format(n.output.replaceAll(/\<|\>/g,i=>i==="<"?"&lt":"&gt")))),r.join("")}).join("")},trigger:function(t){this.$refs.input.focus()}}},Z={class:"terminal"},B={class:"terminal-screen"},F=["innerHTML"],L=["innerHTML"],W={class:"terminal-shortcut dp-none"},Y=["onClick"],K={key:0,class:"title flex flex-center"},G={key:1,class:"title flex flex-center"};function Q(t,e,n,r,i,a){return J(),k("div",Z,[y("div",B,[y("div",{class:"terminal-output",onClick:e[0]||(e[0]=(...l)=>a.trigger&&a.trigger(...l))},[y("div",{class:"terminal-line",innerHTML:a.onrender()},null,8,F)]),y("div",{class:"terminal-form",onClick:e[9]||(e[9]=(...l)=>a.trigger&&a.trigger(...l))},[y("label",{class:"terminal-label",innerHTML:a.oninput()},null,8,L),j(y("input",{class:"terminal-input",type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>t.model=l),autocapitalize:"off",ref:"input",onClick:e[2]||(e[2]=(...l)=>a.endrange&&a.endrange(...l)),onKeyup:e[3]||(e[3]=(...l)=>a.endrange&&a.endrange(...l)),onFocus:e[4]||(e[4]=(...l)=>a.endrange&&a.endrange(...l)),onInput:e[5]||(e[5]=(...l)=>a.endrange&&a.endrange(...l)),onChange:e[6]||(e[6]=(...l)=>a.endrange&&a.endrange(...l)),onKeypress:e[7]||(e[7]=(...l)=>a.endrange&&a.endrange(...l)),onKeydown:e[8]||(e[8]=(...l)=>a.executor&&a.executor(...l))},null,544),[[O,t.model]])]),y("div",W,[(J(!0),k(E,null,_(t.shortcuts,l=>(J(),k("div",{class:"terminal-shortcut-key flex flex-center",onClick:s=>a.keyboard(s,l)},[l.text?(J(),k("p",K,T(l.text),1)):(J(),k("p",G,[y("i",{class:I(["title",...l.icon])},null,2)]))],8,Y))),256))])])])}const ee=A(R,[["render",Q],["__scopeId","data-v-4da818a8"]]);export{ee as default};
